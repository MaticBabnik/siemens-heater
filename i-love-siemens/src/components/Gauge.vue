<script lang="ts" setup>
const props = defineProps<{
    value: number;
}>();
</script>

<template>
    <svg
        width="240"
        height="240"
        viewBox="0 0 240 240"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <g>
            <rect width="240" height="240" />
            <path
                d="M52.8249 187.175C39.5389 173.889 30.491 156.962 26.8254 138.534C23.1598 120.105 25.0411 101.004 32.2314 83.6451C39.4218 66.2861 51.5982 51.4491 67.2208 41.0104C82.8435 30.5717 101.211 25 120 25C138.789 25 157.157 30.5717 172.779 41.0104C188.402 51.4491 200.578 66.2861 207.769 83.6451C214.959 101.004 216.84 120.105 213.175 138.534C209.509 156.962 200.461 173.889 187.175 187.175L180.458 180.458C192.415 168.5 200.558 153.266 203.857 136.68C207.156 120.095 205.463 102.904 198.992 87.2806C192.52 71.6575 181.562 58.3042 167.501 48.9093C153.441 39.5145 136.91 34.5 120 34.5C103.09 34.5 86.5591 39.5145 72.4987 48.9093C58.4383 58.3042 47.4796 71.6575 41.0083 87.2806C34.537 102.904 32.8438 120.095 36.1429 136.68C39.4419 153.266 47.585 168.5 59.5424 180.458L52.8249 187.175Z"
                fill="#D9D9D9"
            />
        </g>
        <g
            :style="`transform: rotate(${
                2.7 * (props.value - 50)
            }deg);`"
            class="gauge-needle"
        >
            <rect width="240" height="240" />
            <path d="M120 17L126 120H114L120 17Z" fill="#FF0000" />
        </g>
        <text x="120" y="200" fill="black" text-anchor="middle">{{ props.value.toFixed(1) }}</text>
    </svg>
</template>

<style>
.gauge-needle {
    transform-origin: center;
    transition: transform 100ms ease;
}
</style>
